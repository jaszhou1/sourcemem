function [] = source_memory_feedback(screen, par, error, block_number)
%SOURCE_MEMORY_FEEDBACK. Gives participants feedback for their performance
% on the previous block.
% Jason Zhou <jasonz1 AT student DOT unimelb DOT edu DOT au>

% Word size and font
Screen('TextSize', screen.win, par.word_size_px);
Screen('TextFont', screen.win, par.font_name);

%% Calculate percentage to display

perc_correct = nnz(error(:,1)<pi/4)/par.num_test_trials*100;
%% Initial display


 DrawFormattedText(screen.win, ['Block ' num2str(block_number) ...
     ' of ' num2str(par.num_blocks) ' \n\n\n'...
    'Your Accuracy on the Previous Block\n\n\n'...
    num2str(perc_correct) '%' ...
    ],...
    'center', 'center', par.word_colour);
trial_start = Screen('Flip', screen.win);
vbl = trial_start;

 DrawFormattedText(screen.win, ['Block ' num2str(block_number) ...
     ' of ' num2str(par.num_blocks) ' \n\n\n'...
    'Your Accuracy on the Previous Block\n\n\n'...
    num2str(perc_correct) '%' ...
    ],...
    'center', 'center', par.word_colour);
Screen('Flip', screen.win, vbl + 5); 
end
